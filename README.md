# 惠农商城

## 一、项目概述
本惠农商城练习项目是一个基于Spring Boot构建的电商平台后端，致力于为农产品销售提供完整的解决方案，包括商品管理、用户管理、订单处理、购物车功能等核心业务，同时借助先进技术保障系统的安全性、高效性和用户体验。

## 二、技术栈
- **Spring Boot**：作为项目的基础框架，提供了便捷的项目搭建方式、自动化配置和内置的应用服务器，大大简化了开发流程，提高了开发效率。
- **Spring Security**：用于实现强大的安全控制机制，包括用户认证、授权和权限管理等功能，确保商城系统的安全性，防止非法访问和数据泄露。
- **Lombok**：通过注解简化Java代码编写，自动生成常用方法，如构造函数、Getter/Setter、ToString等，减少样板代码，使代码更加简洁、易读。
- **MyBatis注解开发**：在数据持久层使用MyBatis注解方式，方便与MySQL数据库进行交互，能够高效地执行SQL语句，实现对商品、用户、订单等数据的增删改查操作。
- **MySQL**：作为关系型数据库，存储商城系统的各类数据，如商品信息、用户信息、订单信息等，确保数据的完整性、一致性和持久性。
- **JWT（JSON Web Tokens）**：用于用户认证和授权，用户登录成功后获取JWT Token，在后续请求中携带Token进行身份验证，确保用户请求的合法性，同时实现无状态认证，提高系统的可扩展性。
- **Redis**：利用Redis的高性能缓存特性，将频繁访问的数据（如热门商品信息、用户购物车数据等）缓存到Redis中，减少数据库查询压力，提高系统响应速度，优化用户体验。
-  **Maven**：用于高效管理项目依赖，确保项目构建过程顺利进行，引入所需的各类库文件。

## 三、核心功能
1. **商品管理**
    - 商品信息录入与编辑：管理员可以方便地添加、修改和删除商品信息，包括商品名称、描述、价格、库存、图片、分类等详细属性，确保商品信息的准确性和完整性。
    - 商品查询与搜索：支持多种查询方式，如按关键词、类别、价格范围等进行搜索，同时提供热门商品推荐和商品分类浏览功能，方便用户快速找到所需农产品。
    - 商品上下架管理：管理员可以根据商品库存、销售情况等因素，灵活控制商品的上架和下架状态，确保用户只能购买到在售商品。
2. **用户管理**
    - 用户注册与登录（JWT认证）：用户可通过注册功能创建账号，注册时需填写必要信息，如用户名、密码、手机号码等。登录时采用JWT认证机制，确保用户身份安全，成功登录后获取Token用于后续请求验证。
    - 用户信息管理：用户可修改个人信息，如密码、联系方式、收货地址等，同时系统管理员可对用户信息进行全面管理，包括查询、禁用、启用等操作，确保用户信息的安全和合规。
    - 基于角色的权限控制：定义了不同的用户角色，如普通用户、管理员等，每个角色具有不同的操作权限。普通用户可以浏览商品、下单购买、管理个人购物车和订单等；管理员则拥有对商品、用户、订单等的全面管理权限。
3. **订单管理**
    - 订单生成与处理：用户选购商品后可生成订单，系统自动记录订单详细信息，包括订单编号、下单时间、用户信息、商品明细、总价、收货地址等。订单生成后，用户可以查看订单状态，如待付款、已付款、已发货、已完成、已取消等。
    - 订单支付功能（可模拟）：虽然实际支付功能可能需要对接第三方支付平台，但在练习项目中可以模拟支付流程，更新订单状态为已付款，并处理相关业务逻辑。
    - 订单状态跟踪与管理：管理员可以跟踪和管理所有订单的状态，对订单进行发货、确认收货、处理退款等操作，确保订单流程的顺利进行。
4. **购物车功能**
    - 商品加入购物车：用户在浏览商品时，可将心仪商品加入购物车，购物车中记录商品数量、总价等信息，并支持对购物车中商品的数量进行修改、删除商品等操作。
    - 购物车数据缓存（Redis）：利用Redis缓存购物车数据，提高购物车操作的响应速度，即使用户关闭浏览器或重新登录，购物车数据也能保持一致，提供良好的用户体验。

## 四、系统特性
1. **RESTful API设计**：遵循RESTful架构风格，设计清晰、规范的接口，方便前后端分离开发，提高系统的可维护性和扩展性。接口定义易于理解，便于与其他系统进行集成。
2. **缓存策略（Redis）**：合理利用Redis作为二级缓存，对热点数据进行缓存，有效减少数据库查询次数，提高系统性能和响应速度。同时，通过缓存更新机制确保缓存数据与数据库数据的一致性。
3. **接口文档（可使用Swagger等工具生成）**：借助相关工具（如Swagger）生成详细的接口文档，清晰展示接口的功能、参数、返回值等信息，方便前端开发人员和其他合作伙伴快速了解和调用接口，降低开发成本，提高开发效率。
4. **安全机制（Spring Security + JWT）**：通过Spring Security实现全面的安全防护，结合JWT认证机制，确保用户身份安全和系统资源的安全访问。对用户密码进行加密存储，防止密码泄露，同时对用户操作进行权限验证，防止越权访问。

## 五、快速开始
1. **环境准备**
    - 确保安装JDK 8或更高版本。
    - 安装Maven 3.6及以上版本。
    - 安装并启动MySQL 8.0数据库，创建相应的数据库和表结构（可参考项目中的数据库初始化脚本，如有）。
    - 安装Redis并启动Redis服务，确保Redis正常运行，用于缓存数据。
2. **项目安装与运行**
    - 克隆项目代码到本地：`git clone https://github.com/daoxuan233/shopping_mall.git`。
    - 进入项目目录：`cd shopping_mall`。
    - 使用Maven构建项目：`mvn clean install`。
    - 运行项目：可以通过在IDE中运行主类（通常是包含main方法的类）启动项目，或者使用Maven命令`mvn spring-boot:run`启动。项目启动后，默认监听在本地的某个端口（如8080），可通过浏览器或其他工具访问接口进行测试（如`http://localhost:8080/api-docs`可查看接口文档，若使用Swagger生成文档）。

## 六、贡献指南
1. **代码规范**
    - 遵循Java编程规范，保持代码结构清晰、命名合理、注释适当。合理使用Lombok注解，避免过度使用影响代码可读性。
    - MyBatis的SQL语句编写应遵循最佳实践，确保高效性和可维护性。在使用JWT和Redis时，遵循相应的最佳实践和安全规范。
2. **分支管理**
    - 创建新功能或修复bug时，从主分支（master）创建新分支，分支命名应具有描述性，如`feature/product-search`表示添加商品搜索功能的分支，`bugfix/order-status-error`表示修复订单状态错误的分支。
    - 完成开发后，提交代码并发起合并请求（Pull Request），详细说明所做的更改、功能实现情况以及对系统的影响，便于团队成员进行代码审查和合并。
3. **问题反馈**
    - 若发现项目中存在问题或有改进建议，欢迎在项目的GitHub仓库中提交Issue，提供详细的问题描述、复现步骤、错误信息（如果有）等，以便团队成员能够快速定位和解决问题，共同推动项目的发展和完善。
